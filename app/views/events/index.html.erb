<div class="container mt-5">
  <div class="has-text-centered">
    <h1 class="title is-2 has-text-primary">Lista wydarzeń</h1>
    <p class="subtitle is-5">Przeglądaj dostępne wydarzenia i zarządzaj nimi</p>
  </div>

  <div class="has-text-centered my-5">
    <%= link_to "Dodaj nowe wydarzenie", new_event_path, class: "button is-primary is-large" %>
  </div>

  <div class="columns is-multiline">
    <% if events.any? %>
      <% events.each do |event| %>
        <div class="column is-4">
          <div class="card">
            <header class="card-header">
              <p class="card-header-title">
                <span class="icon mr-2">
                  <i class="fas fa-calendar-alt"></i>
                </span>
                <%= event.name %>
              </p>
            </header>

            <div class="card-content">
              <div class="content">
                <p><strong>Opis:</strong> <%= truncate(event.description, length: 100) %></p>
                <p><strong>Miejsce:</strong> <%= event.place %></p>
                <p><strong>Data:</strong> <%= event.date.strftime("%Y-%m-%d %H:%M") %></p>
                <p><strong>Kategoria:</strong> <%= event.category %></p>
              </div>
            </div>

          <footer class="card-footer is-flex is-align-items-center">
            <%= link_to "Szczegóły", event_path(event), class: "card-footer-item has-text-info" %>
            <%= link_to "Edytuj", edit_event_path(event), class: "card-footer-item has-text-warning" %>
            <%= button_to "Usuń", event_path(event), method: :delete, data: { turbo_confirm: "Czy na pewno chcesz usunąć to wydarzenie?" }, class: "button is-danger" %>
          </footer>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="column is-12">
        <div class="notification is-warning has-text-centered">
          <p>Brak wydarzeń do wyświetlenia.</p>
        </div>
      </div>
    <% end %>
  </div>
</div>
